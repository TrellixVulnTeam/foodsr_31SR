{"ast":null,"code":"import { interval } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/service-worker\";\nexport let DataserviceService = /*#__PURE__*/(() => {\n  class DataserviceService {\n    constructor(updates) {\n      this.updates = updates;\n    }\n\n    checkForUpdates() {\n      this.updateSubscription = this.updates.available.subscribe(event => this.promptUser());\n\n      if (this.updates.isEnabled) {\n        // Required to enable updates on Windows and ios.\n        this.updates.activateUpdate();\n        interval(60 * 60 * 1000).subscribe(() => {\n          this.updates.checkForUpdate().then(() => {// console.log('checking for updates');\n          });\n        });\n      } // Important: on Safari (ios) Heroku doesn't auto redirect links to their https which allows the installation of the pwa like usual\n      // but it deactivates the swUpdate. So make sure to open your pwa on safari like so: https://example.com then (install/add to home)\n\n    }\n\n    promptUser() {\n      this.updates.activateUpdate().then(() => {\n        window.location.reload();\n      });\n    }\n\n  }\n\n  DataserviceService.ɵfac = function DataserviceService_Factory(t) {\n    return new (t || DataserviceService)(i0.ɵɵinject(i1.SwUpdate));\n  };\n\n  DataserviceService.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n    token: DataserviceService,\n    factory: DataserviceService.ɵfac,\n    providedIn: 'root'\n  });\n  return DataserviceService;\n})();","map":null,"metadata":{},"sourceType":"module"}